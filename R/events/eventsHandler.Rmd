---
title: "eventsHandler"
author: "Chris Day"
date: "11/4/2021"
output: html_document
---

```{r}
library(tidyverse)
```

```{r}
coltypes <- paste0("cccccdcddc",
                   "dcdccddddc",
                   "dcccdddddc",
                   "cdcccdldcc",
                   "ccccddcddc",
                   "cccc")

events <- read_csv("1.events.csv", col_types = coltypes) %>%
  filter(type == "ModeChoice") %>%
  group_by(person,tourIndex, tourPurpose, mode) %>%
  summarize()

events2.0 <- read_csv("1.events2.csv", col_types = cols(.default = "c")) %>%
  filter(type == "ModeChoice") %>%
  group_by(mode) %>%
  select(person, tourIndex, tourPurpose, mode, availableAlternatives, personalVehicleAvailable, length, time, type) %>%
  arrange(person) %>%
  summarize(modeCount = plyr::count(mode))
  
  
events2 <- read_csv("R/39.events.csv") %>% filter(!is.na(legMode))
```

